<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 建造者模式注重创建对象的细节，使用这种模式创建出的复杂对象或者复合对象结构非常清晰
        // 如数据的处理
        var data = [
            {
                name:'zhang san',
                age:30,
                work:'engineer'
            },
            {
                name:'li si',
                age:23,
                work:'teacher'
            },
            {
                name:'wang wu',
                age:16,
                work:'other'
            }
        ]
        function Candidata(param){
            _candidata = {}
            _candidata.name = param.name
            _candidata.age = param.age
            _candidata.firstname = param.name.split(' ')[0]
            _candidata.secondname = param.name.split(' ')[1]
            _candidata.work = {}
            switch(param.work){
                case 'engineer':
                    _candidata.work.name = '工程师'
                    _candidata.work.description = '热爱编程'
                    break
                case 'tercher':
                    _candidata.work.name = '老师'
                    _candidata.work.description = '乐于分享'
                    break
                default:
                    _candidata.work.name = '其他'
                    _candidata.work.description = '无'
            }
            _candidata.work.changeWork = function(work){
                this.name = work
            }
            _candidata.work.changeDes = function(des){
                this.description = des
            }
            return _candidata
        }
        // 将所有内容写在一个构造函数里不利于维护
        let candidataArr = []
        for(let i=0;i<data.length;i++){
            candidataArr[i] = Candidata(data[i])
        }
        candidataArr[0].work.changeWork('singer')
        candidataArr[0].work.changeDes('酷爱唱歌')
        console.log(candidataArr[0])
    </script>
</body>
</html>